<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <title>Bristol Development Group - Site Intelligence Platform</title>
    <meta name="description" content="Enterprise-grade AI-powered site intelligence platform for Bristol Development Group with sophisticated chat interface, comprehensive real estate analytics, and advanced data integration capabilities." />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://bristol-intelligence.com/" />
    <meta property="og:title" content="Bristol Development Group - Site Intelligence Platform" />
    <meta property="og:description" content="Advanced AI-powered analysis for multifamily development opportunities across Sunbelt markets. Comprehensive site feasibility, market analytics, and development insights." />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://bristol-intelligence.com/" />
    <meta property="twitter:title" content="Bristol Development Group - Site Intelligence Platform" />
    <meta property="twitter:description" content="Advanced AI-powered analysis for multifamily development opportunities across Sunbelt markets." />
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iOCIgZmlsbD0iIzhCMTUzOCIvPgo8dGV4dCB4PSIxNiIgeT0iMjIiIGZvbnQtZmFtaWx5PSJDaW56ZWwiIGZvbnQtc2l6ZT0iMjAiIGZvbnQtd2VpZ2h0PSI3MDAiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5CPC90ZXh0Pgo8L3N2Zz4K" />
    
  </head>
  <body>
    <div id="root"></div>
    
    <!-- ElevenLabs ConvAI Widget - Multiple Loading Strategies -->
    <script>
      // Strategy 1: Direct script injection
      (function() {
        const script1 = document.createElement('script');
        script1.src = 'https://unpkg.com/@elevenlabs/convai-widget-embed@latest/dist/index.js';
        script1.async = true;
        script1.onload = function() { console.log('‚úÖ ElevenLabs script loaded via strategy 1'); };
        script1.onerror = function() { 
          console.log('‚ùå Strategy 1 failed, trying strategy 2');
          // Strategy 2: Try different CDN
          const script2 = document.createElement('script');
          script2.src = 'https://cdn.jsdelivr.net/npm/@elevenlabs/convai-widget-embed@latest/dist/index.js';
          script2.async = true;
          script2.onload = function() { console.log('‚úÖ ElevenLabs script loaded via strategy 2'); };
          script2.onerror = function() {
            console.log('‚ùå Both CDNs failed, showing manual implementation');
            showManualWidget();
          };
          document.head.appendChild(script2);
        };
        document.head.appendChild(script1);
      })();
      
      // Manual widget implementation fallback
      function showManualWidget() {
        const manualWidget = document.createElement('div');
        manualWidget.id = 'manual-elevenlabs-widget';
        manualWidget.style.cssText = `
          position: fixed !important;
          bottom: 20px !important;
          right: 20px !important;
          z-index: 9999 !important;
          width: 60px !important;
          height: 60px !important;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
          border-radius: 50% !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          color: white !important;
          cursor: pointer !important;
          font-weight: bold !important;
          font-size: 14px !important;
          box-shadow: 0 4px 20px rgba(0,0,0,0.3) !important;
          transition: transform 0.2s ease !important;
        `;
        manualWidget.innerHTML = 'üé§';
        manualWidget.onclick = function() {
          alert('ElevenLabs ConvAI Widget\\n\\nAgent ID: agent_8801k2t62y9qehhsqqdmzmp10kt9\\n\\nTo fix this:\\n1. Check that your agent is public with authentication disabled\\n2. Add this domain to your agent allowlist\\n3. Verify network connectivity to unpkg.com');
        };
        manualWidget.onmouseover = function() {
          this.style.transform = 'scale(1.1)';
        };
        manualWidget.onmouseout = function() {
          this.style.transform = 'scale(1)';
        };
        document.body.appendChild(manualWidget);
        
        // Hide original widget elements
        const originalWidget = document.querySelector('elevenlabs-convai');
        const fallbackWidget = document.querySelector('#fallback-widget');
        if (originalWidget) originalWidget.style.display = 'none';
        if (fallbackWidget) fallbackWidget.style.display = 'none';
      }
    </script>
    
    <!-- Original ElevenLabs Widget Element -->
    <elevenlabs-convai 
      agent-id="agent_8801k2t62y9qehhsqqdmzmp10kt9">
    </elevenlabs-convai>
    
    <!-- Widget Status Monitor -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Monitor for successful widget load
        setTimeout(function() {
          const widget = document.querySelector('elevenlabs-convai');
          const manualWidget = document.querySelector('#manual-elevenlabs-widget');
          
          if (widget && widget.shadowRoot) {
            console.log('‚úÖ ElevenLabs widget loaded successfully');
            if (manualWidget) manualWidget.style.display = 'none';
          } else if (!manualWidget) {
            console.log('‚ö†Ô∏è Fallback widget needed');
            showManualWidget();
          }
        }, 4000);
      });
    </script>
    
    <script type="module" src="/src/main.tsx"></script>
    <!-- Replit dev banner temporarily disabled due to map loading conflicts -->
    <!-- <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script> -->
  </body>
</html>
